---
title: 第一章 软件工程和建模
excerpt: |
  第一章 软件工程和建模
category: 分析与设计
feature_image: "https://picsum.photos/2560/600?image=872"
---
## 第1章 软件工程和建模 ##

### 软件工程的发展历史
- 1968年，北大西洋公约组织召集了当时全世界一流的程序员、计算机科学家以及工业界人士在德国召开了一次以摆脱“软件危机”为主题的国际学术会议。在会议上，Fritz Bauer首先提出了“软件工程”的概念，试图建立并使用正确的工程方法开发出低成本、高效、可靠的软件，从而解决或缓解软件危机。
- 所谓**软件工程，就是采用工程化的概念、原理、技术和方法来开发与维护软件，把经过时间考验而证明正确的管理技术和当前能够得到的最好的技术方法结合起来，以经济地开发出高质量的软件并有效地维护它**。概括地说，就是用工程、科学和数学的原则与方法研制、维护计算机软件的有关技术及管理方法。
- **软件工程是指导计算机软件开发和维护的工程学科。软件工程方法是完成软件工程项目的技术手段。**软件工程使用的各种自动的或半自动的软件开发支持环境等软件工具，是软件开发活动中智力和体力的扩展与延伸。**软件管理人员对软件开发的质量、进度、成本进行评估、管理和控制，包括人员组织、计划跟踪与控制、成本估算、质量保证、配置管理等。软件工程的方法、工具和过程构成了软件工程的三要素。**

### 软件工程的基本原理

1983年，Boehm总结了多年来软件开发的经验，在一篇论文中提出了软件工程的7条基本原理。

1. 用分析段的生存周期计划进行严格的管理。
2. 坚持进行阶段评审
3. 实行严格的产品控制
4. 采用现代程序设计技术
5. 软件工程结果应能清楚地审查
6. 开发小组的人员应该少而精
7. 承认不断改进软件工程实践的必要性

### 软件生命周期

软件生命周期是指软件从立项、功能确定、设计，到开发成功投入使用，并在使用中不断地修改、增补和完善，直至被新的需要所替代而停止该软件的使用的全过程。

软件生命周期经历软件定义、软件设计、软件使用与维护三阶段，又可以具体分成以下几个子阶段，即可行性研究、需求分析和定义、总体设计、详细设计、编码（实现）、软件测试、运行/维护。

#### 软件定义时期

**软件定义时期的任务是确定软件开发工程必须完成的总目标，确定工程的可行性，导出实现工程目标应该采用的策略及系统必须完成的功能，估计完成该项工程需要的资源和成本，并且制定工程进度表。**这个时期的工作通常又称为系统分析，由系统分析员负责完成。**软件定义时期通常进一步划分成三个阶段，即问题定义、可行性研究和需求分析。**

1. 问题定义

   **问题定义必须明了要解决的问题是什么，通过问题定义阶段的工作，系统分析员应该提出关于问题性质、工程目标和规模的书面报告。**通过对系统的实际用户和使用部门负责人的访问调查，**分析员扼要地写出对问题的理解，征求用户的意见之后，统一对问题的理解，最后得出一份双方都满意的文档**。

2. 可行性研究

   可行性研究阶段讨论问题涉及的范围，探索这个问题是否值得去解，是否有可靠的解决办法。

   在问题定义阶段提出的对工程目标和规模的报告通常比较含糊。**可行性研究阶段应该导出系统的高层逻辑模型，通常用数据流图表示，并且在此基础上更准确、更具体地确定工程规模和目标。**然后分析员更准确地估计系统的成本和效益，对建议的系统进行成本/效益分析。

3. 需求分析

  **需求分析是准确地确定：为了达到用户要求和系统的需求，系统必须做什么，系统必须具备哪些功能。在需求分析阶段确定的系统逻辑模型是以后设计和实现目标系统的基础，因此必须准确完整地体现用户的要求。**

  用户了解所面对的问题，知道必须做什么，但是通常不能完整准确地表达出要求，更不知道怎样利用计算机解决问题；软件开发人员知道怎样用软件实现人们的要求，但是对特定用户的具体要求并不完全清楚。**在需求分析阶段必须和用户密切配合，充分交流信息，以得出经过用户确认的系统逻辑模型。**

  需求分析阶段应有用户参加，必须提出完整准确的系统逻辑模型，并经过用户确认。


#### 软件开发时期

软件开发时期具体设计和实现在前一个时期定义的软件，它通常由下述四个阶段组成：总体设计、详细设计、编码和单元测试、综合测试。其中前两个阶段又称为系统设计，后两个阶段又称为系统实现。

1. 总体设计

   这个阶段必须要完成的任务是如何解决问题。**从开发规模和开发成本上考虑，有三种可能的方案。**

   - 低成本的解决方案，系统只能完成最必要的工作
   - 中等成本的解决方案，系统不仅能够很好地完成预定的任务，使用起来很方便，而且可能还具有用户没有具体指定的某些功能和特点。虽然用户没有提出这些具体要求，但是系统分析员根据自己的知识和经验断定，这些附加是应该有的，或是不能少的。
   - 高成本解决方案，系统具有用户可能希望有的所有功能和特点。

   **系统分析员应该使用系统流程图或其他工具描述每种可能的解决方案，估算每种方案的成本的效益，还应该在充分权衡各种方案利弊的基础上，推荐一个较好的系统方案，并且制定实现所推荐的系统的详细计划。**
   **通常用层次图或结构图来描绘软件的结构，用结构设计的方法设计软件的结构，程序应该模块化，也就是说，一个大程序应该由许多规模适中的模块按合理的层次结构组织而成，确定程序由哪些模块组成以及模块间的关系。**

2. 详细设计

   **详细设计阶段的任务就是给出问题求解的每一步骤，给出怎样具体地实现这个系统的描述。**这个阶段的任务还不是编写程序，而是**设计出程序的详细规格说明。**这种规格说明的作用很类似于其他工程领域中经常使用的工程蓝图，**应该包含必要的细节，是程序员程序代码的依据。**通常用HIPO图（层次图加输入/处理/输出图）或PDL语言（过程设计语言）描述详细设计的结果。

3. 编码和单元测试

  **这个阶段的任务是用程序设计语言写出正确的、容易理解的、容易维护的程序模块代码。**

  程序员应该根据目标系统的性质和实际环境，选取一种适当的高级程序设计语言，必要时用汇编语言，把详细设计的结果翻译成用选定的语言书写的程序，设计一些有代表性的数据和输入输出模型，并且仔细测试编写出的每个模块代码。

4. 综合测试

   **这个阶段的任务是通过各种类型的测试及相应的调试，使软件达到预定的要求。最基本的测试是集成测试和验收测试。**所谓集成测试是根据设计的软件结构，把经过单元测试的模块装配、连接起来，在装配过程中测试。验收测试是依据系统的规范和功能要求，有用户参加的测试、验收。测试计划、详细测试方案以及实际测试结果等正式的文档资料应保存下来，作为软件配置的一个组成部分。

#### 软件维护时期

**维护时期的主要任务是使软件持久地满足用户的需要。具体地说，当软件在使用过程中发现错误时，应该加以改正；当环境改变时应该修改软件以适应新的环境；当用户有新要求时应该及时改进软件以满足用户的新需求。**

### 软件开发模型

**软件开发模型是从软件项目需求定义直至软件经使用后废弃为止，跨越整个生存期的系统开发、运作和维护所实施的全部过程、活动和任务的结构框架。**最早出现的软件开发模型是1970年W.Royce 提出的**瀑布模型**，而后随着软件工程学科的发展和软件开发的实践，相继提出了**原型模型、演化模型、喷泉模型、螺旋模型等**。

#### 瀑布模型

瀑布模型是指在理想的情况下，所有的软件开发和测试活动按照一定的顺序进行，严格地将系统开发过程分为可行性研究、需求分析阶段、系统设计、详细设计、编码、测试、运行维护等几个阶段；并规定了自上而下相互衔接的固定顺序，将生存期活动从上一个阶段向下一个阶段逐级过渡，如果流水下泻，最终得到所开发的软件产品，投入使用。

瀑布模型的优点：

1. 严格遵守软件生命周期模型，使软件开发过程可以在分析、设计、编码、测试和维护的框架下进行；
2. 软件开发过程具有系统性、可控性，克服了软件开发的随意性。

瀑布模型的缺点：

1. 项目开始阶段用户很难精确地提出产品需求。由于技术进步，用户对系统深入的理解，修改需求十分普遍。
2. 项目开发晚期才能得到程序的运行版本，这里修改软件需求和开发中的错误的代价很大。
3. 采用线性模型组织项目开发经常发生开发小组人员“堵塞状态”，特别是在项目的开始和结束阶段。
4. 变更是不能发生的或是受限制的，不能正确地反映软件开发的实际过程。

#### 原型模型

**原型模型的基本指导思想是在进行了初步的需求分析后，快速开发出产品的原型，然后基于这个原型，同客户进行沟通、交流，以便更好地了解客户需求，不断地修改这个原型，达到双方都认可的程度后，再做详细的分析、设计和编码、测试等，最终开发出客户满意的软件产品。**

**显然，快速原型方法可以克服瀑布模型的缺点，减少由于软件需求不明确带来的开发风险，具有显著的效果。快速原型的关键在于尽可能快速地建造出软件原型，一旦确定了客户的真正需求，所建造的原型将被丢弃。**

原型模型的优点：

1. 原型模型支持软件需求开发，帮助用户和开发人员理解需求，是软件需求工程的关键。
2. 原型模型产生的正式需求文档，是软件开发的基础。
3. 如果开发的原型是可运行的，它的若干高质量的程序片段和开发工具可用于工作程序的开发。
4. 原型的开发和评审是系统分析员和用户/客户共同参与的迭代过程，每个迭代循环都是线性过程。
5. **特别是在系统需求不明朗的时候，原型模型是比较合适的选择。**

原型模型的缺点：

1. 对于大型软件项目，原型模型需要足够的人力资源以建立足够的原型组。
2. 原型模型要求开发者和客户在一段时间内共同完成原型系统的开发，如果任何一方没有实现承诺，会导致原型开发的失败。
3. 如果系统难以模块化，建造原型所需构件就有问题；如果高性能是个指标，原型模型也可能不奏效。
4. 原型模型不适合采用很多新技术的项目。
5. 原型不能处理在满负荷情况下的运行。

#### 螺旋模型

螺旋模型是Boehm在1988年提出的适用于计算机软件整个生命周期的软件开发模型。它将瀑布模型和快速原型模型结合起来，强调了其他模型所忽视的风险分析，特别适合大型复杂的系统。概括地说，

​				`螺旋模型 = 纯属模型 + 迭代原型 + 系统化`

螺旋模型由风险驱动，强调可选方案和约束条件从而支持软件的重用，有助于将软件质量作为特殊目标融入产品开发之中。但是，螺旋模型也有一定的限制条件，具体如下：

1. **螺旋模型强调风险分析，但要求许多客户接受和相信这种分析，并做出相关反应是不容易的，因此，这种模型往往适应于内部的大规模软件开发。**
2. 如果执行风险分析将大大影响项目的利润，那么进行风险分析毫无意义，因此，螺旋模型只适合大规模软件项目。
3. 软件开发人员应该擅长寻找可能的风险，准确地分析风险，否则将会带来更大的风险。

螺旋模型的优点：

1. 符合人们认识现实世界和软件开发的客观规律。
2. 支持软件整个生命周期。
3. 保持瀑布模型的系统性、阶段性
4. 利用原型评估降低开发风险
5. 开发者和用户共同参与软件开发，可尽早发现软件中的错误
6. 不断推出和完善软件版本，有助于需求变化，获取用户需求，加强对需求的理解。

#### 增量模型

**与建造一栋大厦相同，软件也是一步一步建造起来的。在增量模型中，软件被作为一系列的增量构件来设计、实现、集成和测试，每一个构件由多种相互作用的模块所形成的提供特定功能的代码片段组成。**

增量模型在各个阶段并不交付一个可运行的完整产品，而是交付满足客户需求的一个子集的可运行产品。整个产品被分解成若干个构件，开发人员逐个构件地交付产品。这样做的好处是软件开发可以较好地适应变化，客户可以不断地看到所开发的软件，从而降低开发风险。但是，增量模型也存在以下缺陷：

1. 由于各个构件是逐渐并入已有的软件体系结构中的，所以加入构件必须不破坏已构造好的系统部分，这需要软件具备开放式的体系结构。
2. 在开发过程中，需求的变化是不可避免的。增量模型的灵活性可以使其适应这种变化的能力大大优于瀑布模型和快速原型模型，但也很容易退化为边做边改模型，从而使软件过程的控制推动整体性。

**在使用增量模型时，第一个增量往往是实现基本需求的核心产品。核心产品交付用户使用后，经过评价形成下一个增量的开发计划，它包括对核心产品的修改和一些新功能的发布。这个过程在每个增量发布后不断重复，直到产生最终的完善产品。**

例如，使用增量模型开发文字处理软件。可以考虑，第一个增量发布基本的文件管理、编辑和文档生成功能，第二个增量发布更加完善的编辑和文档生成功能，第三个增量实现拼写和方法检查功能，第四个增量完成高级的页面布局功能。

#### 喷泉（迭代）模型

喷泉（迭代）模型体现了软件创建所固有的迭代和无间隙的特征。该模型表明了软件刻画活动需要多次重复。例如，在编码之前再次进行分析和设计，其间添加有关功能，使系统得以演化。同时，该模型还表明活动之间没有明显的间隙。

每次迭代都包含了需求、设计和开发、测试等各个过程，而且每次迭代完成后都是一个可以交付的原型。迭代不是并行的，在每次迭代过程中仍然要遵循需求>设计>开发的瀑布过程。迭代周期的长度跟项目的周期和规模有很大关系，小型项目可以一周一次迭代，而对于大型项目则可以2～4周一次迭代。

**喷泉（迭代）模型主要用于支持面向对象开发过程。由于对象概念的引入，使得分析、设计、实现之间的表达没有明显间隙。Rational统一过程就是喷泉（迭代）模型。

但是通常很难规划出每次迭代的内容和要达到的目标，验证相关的交付和产出。因此迭代模型虽然能够很好地满足用户的交付、需求的变化，但确是一个很难真正用好的模型。

### 软件开发方法

#### 面向过程的开发方法

面向过程的开发方法是由E.Yourdon和L.L.Constantine在1978年提出的，即所谓的SASD方法，也可称为面向功能的软件开发方法或面向数据流的软件开发方法。SASD方法是20世纪80年代使用最广泛的软件开发方法。1979年TomDeMacro对此方法作了进一步完善，提出了一组提高软件结构合理性的准则，如分解与抽象、模块独立性、信息隐蔽等。

结构化方法强调过程抽象和功能模块化。将现实问题域映射为数据流和加工，加工之间通过数据流来通信，数据流作为被动的实体被主动的操作所加工，以过程（操作）抽象为中心来构造系统和设计程序。结构化分析产生功能规约。它一般利用图形表达用户需求，使用的手段主要有数据流图、数据字典、结构化语言、判定表及判定树等。结构化设计阶段用结构化程序设计语言实现分析阶段表示出来的用户需求。

结构化分析与设计的本质是功能分解，从内部功能上模拟客观世界，围绕处理功能来构造系统结构。结构化方法的工具主要有数据流图DFD，通过不断将DFD中复杂的处理分解成子数据流图来简化问题。

#### 面向数据结构的开发方法

面向数据结构的开发方法适合求解算法依赖于问题描述的数据结构之类的情况。这种开发方法最终的目标是得到对程序处理过程的描述，它并不明显地使用软件结构的概念，也不注重模块独立原则，模块只不过是设计过程的副产品。因此，这种方法最适合在完成了软件结构设计之后，用它来设计每个模块的处理过程。

使用面向数据结构的开发方法是根据问题的数据结构定义一组映射，把问题的数据结构转换为问题求解的程序结构。首先分析确定数据结构，并且用适当的工具清晰地描绘数据结构。常用的面向数据结构的开发方法有Jackson方法和Warnier方法。

#### 面向对象的开发方法

**当前计算机业界最流行的三个术语是分布式、并行和面向对象。**由此可见，面向对象（Object Oriented，OO）这个概念在当前计算机业界的地位。例如，当前流行的两大面向对象技术DCOM和CORBA。当然我们实际用到的还是大盘鸡的编程语言，如C++、Java。因现代软件工程对新的软件开发模式与方法的需求，面向对象的开发方法逐渐成为计算机软件办青睐的主流开发方法。

**面向对象的开发方法是一种把面向对象的思想应用于软件开发过程中，指导开发活动的系统方法，它是建立在对象概念基础上的方法。**面向对象技术是软件技术的一次革命，在软件开发史上具有里程碑的意义。**面向对象的开发方法基本思想是：对问题空间进行自然分割，以更接近人类思维的方式建立问题域模型，以便对客观实体进行结构模拟和行为模拟，从而使设计出的软件尽可能直接地描述现实世界，构造出模块化的、可重用的、维护性好的软件，同时限定软件的复杂性和降低开发和维护的费用。**

面向对象的软件开发方法是通过面向对象的分析（OOA）、面向对象的设计（OOD）和面向对象的程序设计（OOP）等过程，将现实世界的问题空间平滑地过渡到软件空间的一种软件开发过程。**其中的关键点是能否建立一个全面、合理、统一的模型，使它既能反映问题空间，也能被软件空间所接受。面向对象的开发方法是一种自底向上和自顶向下相结合的方法，而且它以对象建模为基础，从而不仅考虑了输入、输出数据结构，实际上也包含了所有对象的数据结构。**所以面向对象的开发方法彻底实现了PAM没有完全实现的目标。不仅如此，**OO技术在需求分析、可维护性和可靠性这三个软件开发的关键环节和质量指标上有了实质性的突破，彻底地解决了在这些方面存在的严重问题**。面向对象的开发方法建立系统模型的基本思想是自底向上的归纳和自顶向下的分解相结合。

**面向对象的开发方法的基础是对象模型，每个对象类由数据结构（属性）和操作（行为）组成，有关的所有数据结构（包括输入、输出数据结构）都成了软件开发的依据。**面向对象的开发方法解决了需求分析这一问题，因为需求分析过程已志系统模型的形成过程一致，开发人员与用户的讨论是从用户熟悉的具体实例（实体）开始的。面向对象的开发方法关注的是目标系统的对象模型，而不是功能的分解。功能是对象的使用，它依赖于应用的细节，并在开发过程中不断变化。由于对象是客观存在的，因此当需求变化时对象的性质要比对象的使用更为稳定，从而使建立在对象结构上的软件系统也更为稳定。更重要的是面向对象的开发方法解决了软件的可维护性。在OO语言中，子类不仅可以继承父类的属性和行为，而且也可以重载父类的某个行为（虚函数）。利用这一特点，可以方便地进行功能修改：引入某类的一个子类，对要修改的一些行为（即虚函数或虚方法）进行重载，也就是对它们重新定义。由于不再在原来的程序模块中引入修改，所以彻底解决了软件的可修改性，从而也彻底解决了软件的可维护性。OO技术还提高了软件的可靠性和健壮性。

目前，典型的面向对象的开发方法是UML和统一开发过程（RUP）。

### 软件开发方法的评价与选择

面向对象的开发方法相比较而言，具有以下优点：

1. 面向对象的方法与人类习惯的思维方法一致
2. 稳定性好
3. 可重用性好
4. 较易开发大型软件产品

那么在软件系统开发时是否应该放弃传统的软件开发方法而选择面向对象的开发方法呢？**其实，从执行效率来说，结构化方法比面向对象方法产生的可执行代码更直接、更高，所以对于一些嵌入式的系统，结构化方法产生的系统更小，运行效率更高。**从掌握难度来说，面向对象方法比结构化对象方法复杂，难以理解。面向对象方法的内容广，概念多，而且很多都是难于理解的，做到精通更加不易。**应用面向对象方法，常常需要一种支持的分析、设计方法，如RUP方法、敏捷方法等。**这些知识抽象枯燥，难以掌握。面向对象方法要经过长期的开发实践才能很好地理解、掌握。相比之下，结构化方法知识内容少，容易上手。从应用的范围看，结构化方法适用于数据少而操作多的问题。实践证明，对于像操作系统这样的**以功能为主的系统，结构化方法比较适合。相反，对于数据库、信息管理等以数据为主的而操作较少的系统，用面向对象方法描述要好于结构化方法。**

### 软件建模

**模型是对现实客观世界的抽象模拟和简化。模型提供了系统的架构和蓝图，是需求分析成果的进一步定型。模型既可以是详细的开发计划，也可以是系统总体规划，它为后续的系统开发做相应的技术准备。每个系统都可以从不同的方面用不同的模型来描述，对象建模的目标就是要为正在开发的系统制定一个易于理解的面向对象模型。**信息化总体规划、信息资源规划、企业架构设计和系统分析等均会不同程序地涉及建模。

**建模（Modeling）的目的就是为了能够更好地理解正在开发的系统，为系统用户、软件开发团队、软件维护等建立概念关系、数学和/或计算机模型的过程，是研究系统的重要手段和前提。**用模型描述系统的因果关系或相互关系的过程都属于建模，因此建立系统模型的过程又称为模型化。

#### 软件建模的目标

**软件建模可以帮助开发人员更好地了解正在开发的系统。**通过建模，可以做到以下5点：

1. 便于开发人员展现系统
2. 允许开发人员制定系统的结构或行为
3. 提供指导开发人员构造系统的模板
4. 记录开发人员的决策
5. 在开发人员之间进行良好的沟通和理解

越庞大的系统，建模的重要性越大。通过模型的帮助，避免各种技术的无效融合而产生的混乱，可以更加准确地理解软件项目的本来面目。

#### 软件建模的作用

- **对于软件系统用户来说，软件的开发模型向他们描述了软件开发者原封不动软件系统需求的理解。**让系统用户查看软件对象模型并且找到其中的问题，这样可以使软件开发者不至于从一开始就发生错误。需求分析阶段的错误将会导致大量的修复成本，让系统用户一开始就指出一些需求错误并修正它们，能够最大限度地节约成本
- **对于软件开发团队，软件的对象模型有助于帮助他们对软件的需求以及系统的架构和功能进行沟通。**需求和架构的意志理解对于软件开发团队非常重要。软件对象建模不仅给代码编写人员，也给软件测试人员和文档编写人员提供了方便。
- **对于软件的维护和技术支持者，在软件系统开始运行后的相当长的一段时间内，软件的对象模型能够帮助他们理解程序的架构和功能，迅速对软件中出现的问题进行修复。**

建模不仅仅针对大型的软件系统。事实上，系统越大，越复杂，建模的重要性就越大。通过建模，可以缩小所研究问题的范围，一次只需要重点研究一个特定的问题，达到分而治之的目的。

#### 软件建模的原则

从系统工程学角度来评价一个模型的好坏，要把握四条原则：

1. 要认真选择需要的模型。正确的模型将清楚地表明棘手的开发问题，错误的模型将会使人误入歧途，把精力放在不相关的问题上。
2. 需要在什么层次上建立模型。不同的用户对模型的需求不同，这就需要建模人员根据不同的需求建立各种模型，以便让用户从不同角度建立对系统的理解。
3. 对系统实行最优控制。在建模过程中，要对系统模型进行抽象简化，并要在简化和分析结果的准确性之间适当折中。
4. 建立多少模型。模型的多少，取决于不同阶段的任务要求，也取决于不同技术方法的侧重点。比如，企业信息资源规划中要经历需求分析和系统建模过程，需要建立业务模型、功能模型、数据模型和体系结构模型等；对于企业架构技术方法，则还会有组织模型、纯净模型等。

#### 软件建模的策略

软件建模的策略通常分为：

1. 自顶向下、逐层分解、逐步求精
2. 自底向上、业务汇集、综合集成

在建模的过程中，需要具备丰富的业务管理知识、系统工程知识和模型构造方面的知识，并综合运用以掌握系统的原始信息，借助合适的模型建造工具软件，实现对物质世界或描述对象的适当抽象。

#### 软件建模的方法

**软件建模常用的方法有IDEF方法（系统分析和设计方法）、UML方法（建模语言）、PowerDesigner方法（CASE工具集）、ROSE方法（基于UML的CASE工具）、FEA或ToGAF方法等。根据侧重点的不同，可分为面向过程、面向数据、面向信息、面向决策和面向对象的建模。**
